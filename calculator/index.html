<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Code Executor</title>
  <link href="../css/bootstrap.min.css" rel="stylesheet">
  <Style>
    html,
    body {
      height: 100%;
      margin: 0;
    }
  </Style>
</head>

<body>
  <script src="../js/jquery/jquery-3.2.1.min.js"></script>
  <script src="../js/bootstrap/5.0.0-beta3/bootstrap.min.js"></script>

  <textarea class="form-control" style="min-width: 100%;height: 30%" id='ta'>
</textarea> Result:
  <p id='pa'></p>
  <button class="btn btn-primary" onclick='exe()'>submit</button>
  <button class="btn btn-primary" onclick='clearTA()'>clear</button>

  <br>
  <br>

  <div class="container">
    <table>
      <tr>
        <td>
          <table>
            <tr>
              <td>
                <button id='1' class="btn btn-primary" onclick='addContent(this.id)'>1</button>
              </td>
              <td>
                <button id='2' class="btn btn-primary" onclick='addContent(this.id)'>2</button>
              </td>
              <td>
                <button id='3' class="btn btn-primary" onclick='addContent(this.id)'>3</button>
              </td>
              <td>
                <button id='+' class="btn btn-primary" onclick='addContent(this.id)'>+</button>
              </td>


            </tr>

            <tr>
              <td>
                <button id='4' class="btn btn-primary" onclick='addContent(this.id)'>4</button>
              </td>
              <td>
                <button id='5' class="btn btn-primary" onclick='addContent(this.id)'>5</button>
              </td>
              <td>
                <button id='6' class="btn btn-primary" onclick='addContent(this.id)'>6</button>
              </td>
              <td>
                <button id='-' class="btn btn-primary" onclick='addContent(this.id)'>-</button>
              </td>
            </tr>

            <tr>

              <td>
                <button id='7' class="btn btn-primary" onclick='addContent(this.id)'>7</button>
              </td>
              <td>
                <button id='8' class="btn btn-primary" onclick='addContent(this.id)'>8</button>
              </td>
              <td>
                <button id='9' class="btn btn-primary" onclick='addContent(this.id)'>9</button>
              </td>
              <td>
                <button id='*' class="btn btn-primary" onclick='addContent(this.id)'>*</button>
              </td>
            </tr>

            <tr>


              <td>
                <button id='.' class="btn btn-primary" onclick='addContent(this.id)'>.</button>
              </td>
              <td>
                <button id='0' class="btn btn-primary" onclick='addContent(this.id)'>0</button>
              </td>
              <td>
                <button id='%' class="btn btn-primary" onclick='addContent(this.id)'>%</button>
              </td>

              <td>
                <button id='/' class="btn btn-primary" onclick='addContent(this.id)'>/</button>
              </td>
            </tr>
          </table>

        </td>

        <td>
          <div style='width:20%'>
            &nbsp;&nbsp;&nbsp;
          </div>
        </td>
        <td>
          <table>

            <tr>
              <td>
                <button id='!' class="btn btn-primary" onclick='addContent(this.id)'>!</button>
              </td>
              <td>
                <button id='&' class="btn btn-primary" onclick='addContent(this.id)'>&</button>
              </td>
              <td>
                <button id='|' class="btn btn-primary" onclick='addContent(this.id)'>|</button>
              </td>
            </tr>

          </table>

        </td>
      </tr>
    </table>

  </div>


  <br>
  <button id='pow( , )' class="btn btn-primary" onclick='addContent(this.id)'>pow()</button>
  <button id='sqrt( )' class="btn btn-primary" onclick='addContent(this.id)'>sqrt()</button>
  <button id='max( , )' class="btn btn-primary" onclick='addContent(this.id)'>max()</button>
  <button id='min( , )' class="btn btn-primary" onclick='addContent(this.id)'>min()</button>
  <button id='log( )' class="btn btn-primary" onclick='addContent(this.id)'>log()</button>
  <button id='random()' class="btn btn-primary" onclick='addContent(this.id)'>random()</button>
  <button id='PI' class="btn btn-primary" onclick='addContent(this.id)'>PI</button>

  <script>
    function exe() {
      var x = document.getElementById('ta');
      var y = document.getElementById('pa');
      with (Math) {
        y.innerHTML = eval(x.value.trim());
        eval(x.value);
      }
    }

    function clearTA() {
      document.getElementById("ta").value = "";
    }

    function addContent(id) {
      var textarea = document.getElementById('ta');
      var taValue = textarea.value;
      var start = $('#ta').prop('selectionStart');
      textarea.value = taValue.substring(0, start) + id + taValue.substring(start, taValue.length);
      textarea.setSelectionRange(start + id.length, start + id.length);
      textarea.focus();
    }
  </script>

</body>

</html>